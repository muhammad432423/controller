<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duora AI Assistant</title>
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body { 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white; 
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { 
            max-width: 500px; 
            margin: 0 auto; 
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px 0;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .logo-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #4cc9f0;
        }
        
        .logo-text {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .title {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 5px;
            color: #4cc9f0;
        }
        
        .subtitle {
            color: #8892b0;
            font-size: 0.9rem;
        }
        
        /* Navigation */
        .nav {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
        }
        
        .nav-btn {
            flex: 1;
            padding: 12px;
            background: transparent;
            color: #8892b0;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-btn.active {
            background: #4361ee;
            color: white;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards */
        .card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Voice Section */
        .voice-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
            color: white;
            border: none;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }
        
        .voice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 35px rgba(67, 97, 238, 0.6);
        }
        
        .voice-btn.listening {
            background: linear-gradient(135deg, #f72585, #b5179e);
            animation: pulse 1.5s infinite;
            transform: scale(1.1);
        }
        
        @keyframes pulse { 
            0% { box-shadow: 0 0 0 0 rgba(247, 37, 133, 0.7); }
            70% { box-shadow: 0 0 0 25px rgba(247, 37, 133, 0); }
            100% { box-shadow: 0 0 0 0 rgba(247, 37, 133, 0); }
        }
        
        /* Text Input */
        .text-input {
            width: 100%;
            padding: 18px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            color: white;
            font-size: 16px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #4361ee;
            background: rgba(255, 255, 255, 0.12);
        }
        
        .text-input::placeholder {
            color: #8892b0;
        }
        
        .send-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #00b894, #009975);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
        }
        
        /* Status Messages */
        .status {
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            margin: 15px 0;
            font-weight: 500;
        }
        
        .info { 
            background: rgba(76, 201, 240, 0.2); 
            color: #4cc9f0;
            border: 1px solid rgba(76, 201, 240, 0.3);
        }
        
        .success { 
            background: rgba(0, 184, 148, 0.2); 
            color: #00b894;
            border: 1px solid rgba(0, 184, 148, 0.3);
        }
        
        .error { 
            background: rgba(247, 37, 133, 0.2); 
            color: #f72585;
            border: 1px solid rgba(247, 37, 133, 0.3);
        }
        
        /* Response Section */
        .response-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 15px;
        }
        
        .response-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .toggle-icon {
            transition: transform 0.3s ease;
        }
        
        .response-header.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        
        .response-content {
            max-height: 300px;
            overflow-y: auto;
            transition: all 0.3s ease;
        }
        
        .response-content.collapsed {
            max-height: 0;
            overflow: hidden;
            margin: 0;
        }
        
        .response-box {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.6;
            white-space: pre-wrap;
        }
        
        .example-item {
            padding: 10px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .example-item:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .command-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .command-btn {
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .command-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with Logo -->
        <div class="header">
            <div class="logo-container">
                <img src="image.png" alt="Duora Logo" class="logo-img" onerror="this.style.display='none'">
                <div class="logo-text">Duora</div>
            </div>
            <h1 class="title">AI Assistant</h1>
            <p class="subtitle">100% Client-Side ‚Ä¢ Works Everywhere</p>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <button class="nav-btn active" onclick="showSection('voice')">üé§ Voice</button>
            <button class="nav-btn" onclick="showSection('text')">‚å®Ô∏è Text</button>
            <button class="nav-btn" onclick="showSection('quick')">‚ö° Quick</button>
        </div>

        <!-- Voice Section -->
        <div id="voiceSection" class="content-section active">
            <div class="card">
                <h3>Voice Command</h3>
                <p class="subtitle">Click the microphone and speak</p>
                
                <button class="voice-btn" id="voiceButton" onclick="toggleVoice()">üé§</button>
                <div id="voiceStatus" class="status info">Ready to listen</div>
                <div id="transcript" class="status info" style="display: none;"></div>
            </div>
        </div>

        <!-- Text Section -->
        <div id="textSection" class="content-section">
            <div class="card">
                <h3>Text Command</h3>
                <p class="subtitle">Type your command below</p>
                
                <input type="text" class="text-input" id="textInput" placeholder="Type your command here...">
                <button class="send-btn" onclick="processCommand()">Send Command</button>
            </div>
        </div>

        <!-- Quick Commands Section -->
        <div id="quickSection" class="content-section">
            <div class="card">
                <h3>Quick Commands</h3>
                <p class="subtitle">Tap any command below</p>
                
                <div class="command-list">
                    <button class="command-btn" onclick="quickCommand('time')">üïí What time is it?</button>
                    <button class="command-btn" onclick="quickCommand('date')">üìÖ What date is it?</button>
                    <button class="command-btn" onclick="quickCommand('weather')">üå§Ô∏è Weather info</button>
                    <button class="command-btn" onclick="quickCommand('joke')">üòÇ Tell me a joke</button>
                    <button class="command-btn" onclick="quickCommand('quote')">üí≠ Random quote</button>
                    <button class="command-btn" onclick="quickCommand('calc')">üßÆ Calculator</button>
                    <button class="command-btn" onclick="quickCommand('battery')">üîã Battery status</button>
                    <button class="command-btn" onclick="quickCommand('location')">üìç My location</button>
                </div>
            </div>
        </div>

        <!-- Response Section -->
        <div class="card">
            <div class="response-header" id="responseHeader" onclick="toggleResponse()">
                <div class="response-title">
                    ü§ñ AI Response
                </div>
                <span class="toggle-icon">‚ñº</span>
            </div>
            <div class="response-content" id="responseContent">
                <div id="response" class="response-box">
                    Welcome to Duora AI! This is a 100% client-side assistant that works anywhere with HTTPS.
                    
Available Commands:
‚Ä¢ Ask for time/date
‚Ä¢ Get weather information  
‚Ä¢ Request jokes/quotes
‚Ä¢ Use calculator
‚Ä¢ Check battery status
‚Ä¢ Get location info
‚Ä¢ And much more!
                </div>
            </div>
        </div>
    </div>

    <script>
        let isListening = false;
        let recognition = null;
        let isResponseCollapsed = false;

        // AI Knowledge Base
        const aiKnowledge = {
            greetings: ['Hello!', 'Hi there!', 'Hey!', 'Greetings!', 'Salam!'],
            farewells: ['Goodbye!', 'See you!', 'Farewell!', 'Khuda Hafiz!'],
            jokes: [
                "Why don't scientists trust atoms? Because they make up everything!",
                "Why did the scarecrow win an award? He was outstanding in his field!",
                "Why don't eggs tell jokes? They'd crack each other up!",
                "What do you call a fake noodle? An impasta!",
                "Why did the math book look so sad? Because it had too many problems!"
            ],
            quotes: [
                "The only way to do great work is to love what you do. - Steve Jobs",
                "Innovation distinguishes between a leader and a follower. - Steve Jobs",
                "Stay hungry, stay foolish. - Steve Jobs",
                "Your time is limited, don't waste it living someone else's life. - Steve Jobs",
                "The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt"
            ],
            capabilities: [
                "üéØ I can tell you the current time and date",
                "üå§Ô∏è I can show weather information (if location allowed)",
                "üòÇ I can tell you jokes to brighten your day", 
                "üí≠ I can share inspirational quotes",
                "üßÆ I can perform basic calculations",
                "üîã I can check your device battery status",
                "üìç I can show your current location",
                "üîä I can understand voice commands",
                "üì± I work 100% in your browser - no server needed!"
            ]
        };

        // Navigation
        function showSection(section) {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.content-section').forEach(section => section.classList.remove('active'));
            document.getElementById(section + 'Section').classList.add('active');
        }

        // Response Toggle
        function toggleResponse() {
            const header = document.getElementById('responseHeader');
            const content = document.getElementById('responseContent');
            
            isResponseCollapsed = !isResponseCollapsed;
            
            if (isResponseCollapsed) {
                header.classList.add('collapsed');
                content.classList.add('collapsed');
            } else {
                header.classList.remove('collapsed');
                content.classList.remove('collapsed');
            }
        }

        // Voice Recognition
        function initVoice() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';

                recognition.onstart = function() {
                    isListening = true;
                    document.getElementById('voiceButton').classList.add('listening');
                    updateVoiceStatus('üé§ Listening... Speak now');
                };

                recognition.onresult = function(event) {
                    const text = event.results[0][0].transcript;
                    updateVoiceStatus('‚úÖ Voice captured!');
                    processCommand(text);
                };

                recognition.onerror = function(event) {
                    updateVoiceStatus('‚ùå Error: ' + event.error);
                    stopListening();
                };

                recognition.onend = function() {
                    stopListening();
                };
            } else {
                updateVoiceStatus('‚ùå Voice not supported in this browser');
            }
        }

        function toggleVoice() {
            if (isListening) {
                stopListening();
            } else {
                startListening();
            }
        }

        function startListening() {
            if (recognition) {
                recognition.start();
            } else {
                initVoice();
                recognition.start();
            }
        }

        function stopListening() {
            isListening = false;
            document.getElementById('voiceButton').classList.remove('listening');
            updateVoiceStatus('Click microphone to speak');
        }

        function updateVoiceStatus(message) {
            document.getElementById('voiceStatus').textContent = message;
        }

        // Command Processing
        function processCommand(text = null) {
            const inputText = text || document.getElementById('textInput').value.trim();
            const responseEl = document.getElementById('response');
            
            if (!inputText) {
                responseEl.textContent = "Please enter a command or use voice.";
                return;
            }

            // Clear input if from text field
            if (!text) {
                document.getElementById('textInput').value = '';
            }

            responseEl.textContent = 'Processing...';
            
            if (!isResponseCollapsed) {
                toggleResponse();
            }

            // Simulate processing delay
            setTimeout(() => {
                const response = understandCommand(inputText);
                responseEl.textContent = response;
            }, 500);
        }

        function quickCommand(command) {
            const responses = {
                'time': getCurrentTime(),
                'date': getCurrentDate(),
                'weather': getWeatherInfo(),
                'joke': getRandomJoke(),
                'quote': getRandomQuote(),
                'calc': "üßÆ Calculator ready! Try: '2+2', '10*5', '50/2'",
                'battery': getBatteryStatus(),
                'location': getLocationInfo()
            };
            
            document.getElementById('response').textContent = responses[command] || "Command not recognized.";
            
            if (isResponseCollapsed) {
                toggleResponse();
            }
            
            // Switch to text section for calculator
            if (command === 'calc') {
                showSection('text');
                document.getElementById('textInput').value = '';
            }
        }

        function useExample(command) {
            document.getElementById('textInput').value = command;
            processCommand();
        }

        // AI Understanding
        function understandCommand(text) {
            const lowerText = text.toLowerCase();
            
            // Time commands
            if (lowerText.includes('time') || lowerText.includes('clock') || lowerText.includes('baje')) {
                return getCurrentTime();
            }
            
            // Date commands
            if (lowerText.includes('date') || lowerText.includes('today') || lowerText.includes('din')) {
                return getCurrentDate();
            }
            
            // Weather commands
            if (lowerText.includes('weather') || lowerText.includes('mausam') || lowerText.includes('temperature')) {
                return getWeatherInfo();
            }
            
            // Joke commands
            if (lowerText.includes('joke') || lowerText.includes('funny') || lowerText.includes('haso')) {
                return getRandomJoke();
            }
            
            // Quote commands
            if (lowerText.includes('quote') || lowerText.includes('inspiration') || lowerText.includes('motivation')) {
                return getRandomQuote();
            }
            
            // Greetings
            if (lowerText.includes('hello') || lowerText.includes('hi') || lowerText.includes('hey') || lowerText.includes('salam')) {
                return getRandomGreeting();
            }
            
            // Farewells
            if (lowerText.includes('bye') || lowerText.includes('goodbye') || lowerText.includes('khuda hafiz')) {
                return getRandomFarewell();
            }
            
            // Help
            if (lowerText.includes('help') || lowerText.includes('what can you do') || lowerText.includes('capabilities')) {
                return getCapabilities();
            }
            
            // Math calculations
            if (/(\d+[\+\-\*\/]\d+)/.test(lowerText)) {
                return calculateExpression(lowerText);
            }
            
            // Battery
            if (lowerText.includes('battery') || lowerText.includes('charge')) {
                return getBatteryStatus();
            }
            
            // Location
            if (lowerText.includes('location') || lowerText.includes('where am i')) {
                return getLocationInfo();
            }
            
            // Default response
            return `I heard: "${text}"\n\nI'm a client-side AI. Try asking about:\n‚Ä¢ Time/Date\n‚Ä¢ Weather\n‚Ä¢ Jokes/Quotes\n‚Ä¢ Calculations\n‚Ä¢ Battery status\n‚Ä¢ Your location`;
        }

        // Response Generators
        function getCurrentTime() {
            const now = new Date();
            return `üïí Current Time: ${now.toLocaleTimeString()}\nüìÖ Date: ${now.toLocaleDateString()}`;
        }

        function getCurrentDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return `üìÖ Today is: ${now.toLocaleDateString('en-US', options)}`;
        }

        function getWeatherInfo() {
            if (navigator.geolocation) {
                return "üå§Ô∏è Weather Information:\nTo get accurate weather, please allow location access.\n\nYou can also check weather apps or websites for real-time data.";
            } else {
                return "üå§Ô∏è Weather Information:\nLocation not supported in this browser.";
            }
        }

        function getRandomJoke() {
            return `üòÇ ${aiKnowledge.jokes[Math.floor(Math.random() * aiKnowledge.jokes.length)]}`;
        }

        function getRandomQuote() {
            return `üí≠ ${aiKnowledge.quotes[Math.floor(Math.random() * aiKnowledge.quotes.length)]}`;
        }

        function getRandomGreeting() {
            return `${aiKnowledge.greetings[Math.floor(Math.random() * aiKnowledge.greetings.length)]} How can I help you today?`;
        }

        function getRandomFarewell() {
            return `${aiKnowledge.farewells[Math.floor(Math.random() * aiKnowledge.farewells.length)]} Have a great day!`;
        }

        function getCapabilities() {
            return "üöÄ My Capabilities:\n" + aiKnowledge.capabilities.join('\n');
        }

        function calculateExpression(text) {
            try {
                // Extract math expression
                const match = text.match(/(\d+[\+\-\*\/]\d+)/);
                if (match) {
                    const expression = match[0];
                    // Security: Only allow basic math operations
                    if (/^[\d\+\-\*\/\.]+$/.test(expression)) {
                        const result = eval(expression);
                        return `üßÆ Calculation: ${expression} = ${result}`;
                    }
                }
                return "‚ùå Please use simple math like: 2+2, 10*5, 50/2";
            } catch (e) {
                return "‚ùå Could not calculate. Try: 2+2, 10*5, 50/2";
            }
        }

        function getBatteryStatus() {
            if ('getBattery' in navigator || 'battery' in navigator) {
                return "üîã Battery API available.\nOn mobile, I can show your battery level if you grant permission.";
            } else {
                return "üîã Battery status not available in this browser.";
            }
        }

        function getLocationInfo() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        document.getElementById('response').textContent = 
                            `üìç Your Location:\nLatitude: ${lat.toFixed(6)}\nLongitude: ${lon.toFixed(6)}\n\nView on map: https://www.google.com/maps?q=${lat},${lon}`;
                    },
                    (error) => {
                        document.getElementById('response').textContent = 
                            `üìç Location Access:\nPlease allow location access to see your coordinates.\n\nYou can also manually check your location in maps.`;
                    }
                );
                return "üìç Getting your location...";
            } else {
                return "üìç Location services not available in this browser.";
            }
        }

        // Enter key support
        document.getElementById('textInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                processCommand();
            }
        });

        // Initialize on load
        window.addEventListener('load', function() {
            initVoice();
            console.log("üöÄ Duora AI Client-Side Assistant Ready!");
            console.log("‚úÖ 100% HTTPS Compatible");
            console.log("‚úÖ Microphone Access Enabled");
            console.log("‚úÖ GitHub Pages Ready");
        });
    </script>
</body>
</html>
